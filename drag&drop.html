
<!DOCTYPE html>
<html>
<head>
	<title>Drag & Drop js</title>
	<link rel="stylesheet" type="text/css" href="anim.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}






		.card{
			height: 340px;
			width: 232px;
			margin-left: 20px;
			margin-top: 50px

		}
		#dragList #sort1 li{
			list-style-type: none;
			margin-top: 10px;
		}

		.list{
			margin-left: 5px;
		}


		#right{
			float: right;
			margin-right: 20px;
		}

	</style>


</head>
<body>

	<div class="containerf" >



		<div id="right">

			<div id="dropdiv">
				<table  border="3 " class="table" >

					<thead >

						<tr style=" max-width:100%" >
							<th>Day/shift</th>

							<th id="shift1">7:15-8:45</th>
							<th id="shift2">8:45-9:30</th>
							<th id="shift3">9:30-10:15</th>
							<th id="shift4">11:00-11:45</th>
							<th id="shift5">11:45-12:30</th>
							<th id="shift6">12:30-13:15</th>
							<th id="shift7">1:15-14:00</th>
						</tr>
					</thead>


					<tbody id="body">


						<tr id="con1" class="sortConn" > 

							<td id="r1">Sunday</td>  

							<td class="span">  <div class="ui-state-default " id="1"></div></td>

							<td class="span"><div class="ui-state-default " id="1"></div></td>
							<td class="span"><div class="ui-state-default " id="1"></div> </td>
							<td class="span"><div class="ui-state-default " id="1"></div></td>
							<td class="span"><div class="ui-state-default " id="1"></div></td>
							<td class="span"><div class="ui-state-default " id="1"></div></td>
							<td class="span"><div class="ui-state-default " id="1"></div></td>

						</tr>




						<tr id="con2" class="sortConn">
							<td id="r2">Monday</td>  


							<td class="span"><span class="ui-state-default " id="8"></span></td>

							<td class="span"><span class="ui-state-default" id="9"></span></td>
							<td class="span"><span class="ui-state-default" id="10"></span></td>
							<td class="span"><span class="ui-state-default"  id="11"></span></td>
							<td class="span"><span class="ui-state-default" id="12"></span></td>
							<td class="span"><span class="ui-state-default" id="13"></span></td>
							<td class="span"><span class="ui-state-default" id="14"></span></td>

						</tr>



						<tr  id="con3" class="sortConn">
							<td id="row">Tuesday</td>  
							<td class="span"><span class="ui-state-default " id="8" ></span></td>

							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8" ></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>

						</tr>

						<tr  id="con4" class="sortConn">
							<td id="row">Wednesday</td>  
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8" ></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>

						</tr>

						<tr  id="con5" class="sortConn">

							<td id="row">Thrusday</td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>

						</tr>

						<tr  id="con6" class="sortConn">

							<td id="row">Friday</td>  

							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>
							<td class="span"><span class="ui-state-default" id="8"></span></td>

						</tr>
					</tbody>


				</table>
			</div>
		</div>

		<div id="dragList">
			<div id="origin" class="card" >
				<ul id="sort1" class="list">
					<li id="one" title="one" class="draggable1" draggable="true">English</li>
					<li id="two" title="two" class="draggable2" draggable="true">Nepali</li>
					<li id="three" title="three" class="draggable3" draggable="true">Economics</li>
					<li><button class="btn btn-lg btn-outline-primary " droppable="true" >Trash</button></li>
				</ul>
			</div>
		</div>



	</div>








	<!-- s<script src="https://cdnjs.cloudflare.com/ajax/libs/draggable/1.0.0-beta.8/draggable.js"></script> -->
	<script
	src="https://code.jquery.com/jquery-3.4.0.min.js"
	integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg="
	crossorigin="anonymous"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>



	<script type="text/javascript">
		$(document).ready(function(){
			console.log('ready');

			var $listItem=$('#sort1 li');



			$(  $listItem ).draggable({
				cancel: "a.ui-icon",
	      revert: "invalid", // when not dropped, the item will revert back to its initial position
	      containment: "document",
	      helper: "clone",
	      cursor: "move",
	      appendTo: "body",
	      refreshPositions: true
	  });
			$( "#sort1 li" ).selectable();
			$( "#sort1 li" ).disableSelection();

			var $container=$("#dropdiv table tbody tr td ");


				//console.log($($container))
				
				initDroppable($($container  ));

				function initDroppable($elements) {
					$elements.droppable({
						activeClass: "ui-state-default",
						hoverClass: "ui-drop-hover",
						accept: ":not(.ui-sortable-helper)", 
						// accept:"#sort1 li",

						over: function (event, ui) {
							var $this = $(this);

						},
						drop:function (event, ui) {
							var $this = $(this);
		//console.log(ui.position)
		//console.log($this)

		
		var $item = ui.helper.clone();
		$item.draggable({
			cancel: "a.ui-icon",
			revert: 'invalid',
			cursor: "move",
			appendTo: "body",
			 // helper:"clone",
			});
		$(this).addClass('has-drop').append($item);
		$(ui.helper).remove() 


		var y= $this.closest('  tr  ').children().eq(0).text();
		console.log(y)

		var l=$(this).index();

		var x= $this.closest('table').find('thead th ').siblings().contents().eq(l).text()
		console.log(x)






		

		

	}

})
				}			

				
				var $trash=$(' #sort1  li button ');
				$( $trash ).droppable({
					cancel: "a.ui-icon",
	      revert: "invalid", // when not dropped, the item will revert back to its initial position
	      containment: "document",
	      helper: "clone",
	      cursor: "move",
	      appendTo: "body",
	      refreshPositions: true,
	      drop: function (event, ui) {
	      	var drag_id = $(ui.draggable).attr("id");
	      	var targetElem = $(this).attr("id");
	      	deleteMe = true;            
	      	$(this)
	      	.addClass("ui-state-highlight")
	      	.find("p")
	      	.html("Dropped! inside " + targetElem);

	                $(ui.helper).remove(); //destroy clone
	                $(ui.draggable).remove(); //remove from list    
	            },    
	            over:function(event,ui){
	            	console.log($(this));
	            }
	        });


			});

		</script>








	</body>
	</html>
